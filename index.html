<!--/////////////////////////////////////////////////////////////////////////////////
// Copyright (c) Autodesk, Inc. All rights reserved
// Written by Philippe Leefsma 2014 - ADN/Developer Technical Services
//
// Permission to use, copy, modify, and distribute this software in
// object code form for any purpose and without fee is hereby granted,
// provided that the above copyright notice appears in all copies and
// that both that copyright notice and the limited warranty and
// restricted rights notice below appear in all supporting
// documentation.
//
// AUTODESK PROVIDES THIS PROGRAM "AS IS" AND WITH ALL FAULTS.
// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF
// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.
// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE
// UNINTERRUPTED OR ERROR FREE.
////////////////////////////////////////////////////////////////////////////////-->
<html>
<head>

    <title>Viewer Demo</title>
    <meta charset="utf-8">

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-2.1.2.min.js"></script>

    <!-- Viewer production -->
    <link type="text/css" rel="stylesheet" href="https://developer.api.autodesk.com/viewingservice/v1/viewers/style.css"/>
    <script type="text/javascript" src="https://developer.api.autodesk.com/viewingservice/v1/viewers/viewer3D.min.js"></script>
    <!-- Autodesk.ADN.Toolkit.Viewer -->
    <script src="https://rawgit.com/Developer-Autodesk/library-javascript-view.and.data.api/master/js/Autodesk.ADN.Toolkit.Viewer.js"></script>

    <script>
        $(document).ready(function () {

            var token = Autodesk.Viewing.Private.getParameterByName("eyJhbGciOiJIUzI1NiIsImtpZCI6Imp3dF9zeW1tZXRyaWNfa2V5In0.eyJjbGllbnRfaWQiOiJ6djhzU1Q3cjl6TW4zallEV3pXZHFhVk5LR0lsenFNWSIsImV4cCI6MTUzMzc4NjIwNywic2NvcGUiOlsiYnVja2V0OmNyZWF0ZSIsImJ1Y2tldDpyZWFkIiwiZGF0YTpyZWFkIiwiZGF0YTp3cml0ZSIsImRhdGE6Y3JlYXRlIl0sImF1ZCI6Imh0dHBzOi8vYXV0b2Rlc2suY29tL2F1ZC9qd3RleHA2MCIsImp0aSI6IkFUTW82b3pUbkdCN3g0Q1RHUDVaNmhZaGdTaVFBYlZkNlhJSW0zSnNiQU9LR1Z4V2pZcmdkdkpKMGtLMHNVMEYifQ.GySTPCIRnx8aRnd_V2AHqMVnUFe3rjmFdt17cLIvBGo");

            var urn = Autodesk.Viewing.Private.getParameterByName("dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6enY4c3N0N3I5em1uM2p5ZHd6d2RxYXZua2dpbHpxbXktdHJhbnNpZW50L1V0aWxpdHlLbmlmZS5mM2Q=");
            
            var config = {};
            config.environment = 'AutodeskProduction';
            config.language = 'ja';

            // Instantiate viewer factory
            var viewerFactory = new Autodesk.ADN.Toolkit.Viewer.AdnViewerFactory(
                token,
                config);

            viewerFactory.getViewablePath (urn,
                                           function(pathInfoCollection) {
                var viewerConfig = {
                    viewerType: 'Viewer3D'
                };

                var viewer = viewerFactory.createViewer(
                    $('#viewerDiv')[0],
                    viewerConfig);

                viewer.load(pathInfoCollection.path3d[0].path);
            },
            onError);

        });

        function onError(error) {
            console.log('Error: ' + error);
        };        
    </script>

</head>

<body style="margin:0">
	<div id="viewerDiv"></div>
	
</body>
</html>
